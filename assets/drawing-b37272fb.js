(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const Y=new AudioContext,N=(e,n=[])=>{const t=e.substring(e.lastIndexOf(".")+1,e.length)||e;return n.includes(t.toLowerCase())},q=async e=>{if(Array.isArray(e))return await Promise.all(e.map(t=>q(t)));if(N(e,["jpg","jpeg","png"]))return new Promise(n=>{const t=new Image;t.onload=n(t),t.src=e});if(N(e,["wav","mp3","ogg"])){const t=await(await fetch(e)).arrayBuffer();return await Y.decodeAudioData(t)}else console.warn(`Unsure how to load asset ${e}`)},b=async(e,n)=>{const t=Object.entries(e).map(([a,s])=>new Promise(o=>{q(s).then(r=>{n[a]=r,o()})}));await Promise.all(t)},O={canvas:document.querySelector("canvas"),size:[240,136],resize:"integer",supersampling:0,offset:0,assets:{},palette:[1711148,6104925,11615827,15695191,16764277,11006064,3716964,2453881,2700911,3890633,4302582,7598071,16053492,9744578,5663878,3357783]},E={mouse:0,mousemid:1,mouseright:2,touch:0,touchtwo:1,touchthree:2,up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",a:"KeyZ",b:"KeyX",c:"KeyA",d:"KeyS",x:"KeyA",y:"KeyS"},g={},R=()=>[0,1,2].forEach(e=>g[e]=!1),C=e=>{var n,t;e.target===c.canvas?((n=e.touches)!=null&&n.length&&e.touches[0],(t=e.touches)!=null&&t.length&&e.touches[0],c.canvas):R()},H=e=>{e.touches.length-1>=0&&(g[e.touches.length-1]=c.elapsed)},X=()=>{document.addEventListener("keydown",e=>{e.repeat||(g[e.code]=c.elapsed)}),document.addEventListener("keyup",e=>{g[e.code]=0}),document.addEventListener("pointermove",C),document.addEventListener("pointerdown",e=>{var n;e.target===c.canvas&&!((n=e.touches)!=null&&n.length)>0&&(g[e.button]=c.elapsed)}),document.addEventListener("pointerup",e=>{var n;e.target===c.canvas&&!((n=e.touches)!=null&&n.length)>0&&(g[e.button]=0)}),document.addEventListener("touchstart",e=>{console.log(e),e.target===c.canvas&&(H(e),C(e))}),document.addEventListener("touchend",e=>{e.target===c.canvas&&(R(),H(e))})},S=(e,n=1)=>{if(e==null)return Object.values(g).some(a=>!!a);const t=E[e.toString().toLowerCase()];if(g[t]){const a=c.elapsed-g[t];if(n?a===0||a>n:!0)return g[t]=n?g[t]+n*c.delta:0,!0}return!1};X();const B=async()=>{const e=new FontFace("itto","url(data:application/font-woff2;charset=utf-8;base64,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)");await e.load(),document.fonts.add(e)};let f={},p=null,U=0;const c={get canvas(){return f[p].canvas},get context(){return f[p].context},get width(){return f[p].width},get height(){return f[p].height},get delta(){return f[p].delta},get elapsed(){return Math.floor(f[p].elapsed)},get ready(){return f[p].ready},get palette(){return f[p].palette},get assets(){return f[p].assets},play:async({settings:e,init:n,tick:t,draw:a})=>{e={...O,...e};const[s,o]=e.size,r=U;U++;const i=e.canvas;i.dataset.itto=r,i.width=s,i.height=o,i.style.cssText+="image-rendering: optimizeSpeed;image-rendering: -moz-crisp-edges;image-rendering: -o-crisp-edges;image-rendering: -webkit-crisp-edges;image-rendering: crisp-edges;image-rendering: -webkit-optimize-contrast;image-rendering: pixelated; -ms-interpolation-mode: nearest-neighbor;";const l=i.getContext("2d");let h=l,u;if(e.supersampling>0){u=document.createElement("canvas");const A=e.supersampling*window.devicePixelRatio;u.width=s*A,u.height=o*A,h=u.getContext("2d"),h.scale(A,A)}h.imageSmoothingEnabled=!1,h.textRendering="geometricPrecision",f[r]={canvas:i,context:h,width:s,height:o,delta:0,elapsed:0,ready:!1,assets:e.assets,palette:e.palette,timescale:1},p=r;const d=f[r];await B(),n==null||n();let x,m,y;const j=1e3/60;x=performance.now();const Z=()=>{m=performance.now(),y=m-x,x=m,d.delta=y/j*d.timescale,d.elapsed+=d.delta,c._current=r,t==null||t(),a==null||a(),u&&l.drawImage(u,0,0,u.width,u.height,0,0,s,o),window.requestAnimationFrame(Z)};window.requestAnimationFrame(Z),document.addEventListener("visibilitychange",()=>{m=x=performance.now(),y=0});const M=()=>{const A=i.parentElement.clientWidth,v=i.parentElement.clientHeight,P=e.offset[0]??e.offset,D=e.offset[1]??e.offset;switch(e.resize){case"integer":let w=s,k=o;const K=A-s,z=v-o;if(K<0||z<0)return;for(;w+P<K&&k+D<z;)w=w+s,k=k+o;i.style.width=`${w}px`,i.style.height=`${k}px`;break;case"linear":const Q=s/o,G=A/v;Q>G?(i.style.width="100%",i.style.height="auto"):(i.style.width="auto",i.style.height="100%");break;default:return}};window.addEventListener("resize",M),M(),await b(e.assets,d.assets),d.ready=!0}},V=document.createElement("canvas").getContext("2d"),L=(e,n)=>{let t=c.palette[e]||e;if(Number.isInteger(t)&&(t="#"+t.toString(16).padStart(6,"0")),t.startsWith("#")||(V.fillStyle=t,t=V.fillStyle),n){const a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(a,(o,r,i,l)=>r+r+i+i+l+l);const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}}return t},F=e=>{const{context:n,width:t,height:a}=c;e!==null?(n.fillStyle=L(e),n.fillRect(0,0,t,a)):n.clearRect(0,0,t,a)},T=(e,n,t,a,s=0,o=!1)=>{const{context:r}=c;r.save(),o||(r.fillStyle=L(s),r.fillRect(Math.round(e),Math.round(n),t,a)),r.strokeStyle=L(s),r.strokeRect(Math.round(e)+.5,Math.round(n)+.5,t-1,a-1),r.restore()},W=(e,n,t,a=0,s=!1)=>{const{context:o}=c;o.beginPath(),o.arc(Math.round(e),Math.round(n),t-.5,0,Math.PI*2),s||(o.fillStyle=L(a),o.fill()),o.strokeStyle=L(a),o.stroke()},I=(e,n,t,a,s,o,r,{origin:i=[0,0],anchor:l,scale:h,angle:u}={})=>{const{context:d,assets:x}=c,m=x[e];if(!(m instanceof Image)){console.warn("Attempting to draw an invalid image");return}o===void 0&&(o=m.width),r===void 0&&(r=m.height);let y=!1;(h!==void 0||u!==void 0)&&(y=!0,d.save(),d.translate(Math.round(n-i[0]),Math.round(t-i[1])),n=0,t=0,l=l||[o/2,r/2],d.translate(l[0],l[1]),u&&d.rotate(u),h&&d.scale(h[0],h[1]),d.translate(-l[0],-l[1])),a!==void 0&&s!==void 0?d.drawImage(m,a,s,o,r,n,t,o,r):d.drawImage(m,n,t,o,r),y&&d.restore()},J=(e,n,t,a=0,{size:s=8,align:o="left",font:r="itto"}={})=>{const{context:i}=c;i.font=`${s}px ${r}`,i.textAlign=o,i.fillStyle=L(a),i.fillText(e,Math.floor(n),Math.floor(t))};export{I as a,W as b,F as c,c as g,S as i,T as r,J as t};
